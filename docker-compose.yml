version: '2'
services:
 influxdb:
   image: influxdb:0.13
   volumes:
     - ./data/influxdb:/var/lib/influxdb
   ports:
     - "8086:8086"

 client:
   image: client
   build: client/.
   ports:
     - "8082:8082"
   expose:
     - "8082"
   container_name: "client"

 monitoring-server:
   image:  spring
   build:  monitoring-server/.
   restart:  always
   network_mode:  host
   container_name:  monitoring-server
   depends_on:
     -  influxdb
     -  client
   ports:
     -  8080:8080
   expose:
     -  8080

 angular:
   image: ang-d3
   build: ang-d3/.
   ports: 
     - "4200:4200"
   expose: 
     - "4200"
   container_name: "angular"

